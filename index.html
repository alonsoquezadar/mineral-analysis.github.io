Index simplificado comentado ¬∑ HTML
Descargar

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>An√°lisis de Miner√≠a - Mi P√°gina</title>
    
    <!-- ========================================================================
         PASO 1: CARGAR PLOTLY.JS (necesario para mostrar gr√°ficos JSON)
         ======================================================================== -->
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
    
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        h1 {
            color: #333;
            text-align: center;
        }
        
        .chart-section {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        iframe {
            width: 100%;
            height: 600px;
            border: none;
        }
        
        /* Estilo para gr√°ficos Plotly desde JSON */
        .plotly-chart {
            width: 100%;
            height: 600px;
        }
        
        .button-group {
            text-align: center;
            margin: 20px 0;
        }
        
        .btn {
            display: inline-block;
            padding: 12px 24px;
            margin: 5px;
            background-color: #D32F2F;
            color: white;
            text-decoration: none;
            border-radius: 5px;
            transition: background-color 0.3s;
        }
        
        .btn:hover {
            background-color: #B71C1C;
        }
        
        .loading {
            text-align: center;
            padding: 40px;
            color: #666;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üìä An√°lisis de Producci√≥n de Cobre</h1>
        
        <!-- ====================================================================
             NUEVA SECCI√ìN: Gr√°fico desde GitHub JSON
             ==================================================================== -->
        <div class="chart-section">
            <h2>üìà Producci√≥n de Cobre en Chile (2003-2025)</h2>
            <p style="text-align: center; color: #666;">
                Gr√°fico interactivo con scatter, media m√≥vil e intervalo de confianza 95%
            </p>
            
            <!-- PASO 2: Contenedor donde se mostrar√° el gr√°fico -->
            <div id="production_chile_03-25" class="plotly-chart">
                <div class="loading">‚è≥ Cargando gr√°fico desde GitHub...</div>
            </div>
            
            <div class="button-group">
                <!-- Actualiza esta URL con la tuya -->
                <a href="https://raw.githubusercontent.com/alonsoquezadar/mineral-analysis.github.io/refs/heads/main/Cochilco%20Data%20Analysis.json" 
                   download class="btn">
                    üíæ Descargar JSON desde GitHub
                </a>
                <a href="Cochilco_Data_Production_per_Company.csv" download class="btn">
                    üìä Descargar Datos CSV
                </a>
            </div>
        </div>
        
        <!-- ====================================================================
             SECCIONES EXISTENTES
             ==================================================================== -->
        
        <!-- Secci√≥n: Gr√°fico de Chile -->
        <div class="chart-section">
            <h2>üá®üá± Producci√≥n de Cobre en Chile</h2>
            <iframe src="Gr√°fico Chile Cobre - Mining Statistics.html"></iframe>
            <div class="button-group">
                <a href="Datos Chile Cobre.csv" download class="btn">
                    üíæ Descargar Datos Chile (CSV)
                </a>
            </div>
        </div>
        
        <!-- Secci√≥n: Comparaci√≥n de Pa√≠ses -->
        <div class="chart-section">
            <h2>üåç Comparaci√≥n Internacional</h2>
            <iframe src="Comparaci√≥n de Pa√≠ses.html"></iframe>
            <div class="button-group">
                <a href="Top 5 Pa√≠ses Cobre.csv" download class="btn">
                    üíæ Descargar Datos Todos los Pa√≠ses (CSV)
                </a>
            </div>
        </div>
        
        <!-- Link a dashboard completo -->
        <div class="button-group">
            <a href="pagina_completa_mineria.html" class="btn">
                üöÄ Ver Dashboard Completo
            </a>
        </div>
    </div>

    <!-- ========================================================================
         PASO 3: SCRIPT PARA CARGAR EL JSON DESDE GITHUB
         ======================================================================== -->
    <script>
        // ====================================================================
        // CONFIGURACI√ìN: Actualiza esta URL con la ruta a tu JSON en GitHub
        // ====================================================================
        
        // IMPORTANTE: Usa la URL "raw" de GitHub
        // Ejemplo: https://raw.githubusercontent.com/usuario/repo/main/archivo.json
        const GITHUB_JSON_URL = 'https://raw.githubusercontent.com/alonsoquezadar/mineral-analysis.github.io/refs/heads/main/Cochilco%20Data%20Analysis.json';
        
        // ALTERNATIVA: Si el JSON est√° en la misma carpeta que el HTML
        // const GITHUB_JSON_URL = './production_chile_03-25.json';
        
        // ====================================================================
        // FUNCI√ìN PARA CARGAR Y MOSTRAR EL GR√ÅFICO
        // ====================================================================
        
        async function cargarGraficoDesdeGithub() {
            try {
                console.log('Cargando gr√°fico desde:', GITHUB_JSON_URL);
                
                // 1. Descargar el JSON desde GitHub
                const response = await fetch(GITHUB_JSON_URL);
                
                // 2. Verificar que se descarg√≥ correctamente
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                
                // 3. Convertir la respuesta a JSON
                const graficoJSON = await response.json();
                
                // 4. Renderizar el gr√°fico con Plotly
                Plotly.newPlot(
                    'production_chile_03-25',  // ID del div contenedor
                    graficoJSON.data,       // Datos del gr√°fico
                    graficoJSON.layout,     // Layout/dise√±o del gr√°fico
                    {
                        responsive: true,              // Se adapta al tama√±o
                        displayModeBar: true,          // Muestra barra de herramientas
                        displaylogo: false,            // Oculta logo de Plotly
                        modeBarButtonsToRemove: [      // Ocultar botones innecesarios
                            'lasso2d', 
                            'select2d'
                        ]
                    }
                );
                
                console.log('‚úì Gr√°fico cargado exitosamente');
                
            } catch (error) {
                console.error('‚ùå Error al cargar el gr√°fico:', error);
                
                // Mostrar mensaje de error en la p√°gina
                document.getElementById('production_chile_03-25').innerHTML = `
                    <div class="loading" style="color: #D32F2F;">
                        ‚ùå Error al cargar el gr√°fico desde GitHub<br>
                        <small>
                            Verifica que la URL del JSON sea correcta.<br>
                            Abre la consola (F12) para m√°s detalles.
                        </small>
                    </div>
                `;
            }
        }
        
        // ====================================================================
        // EJECUTAR LA CARGA CUANDO LA P√ÅGINA EST√â LISTA
        // ====================================================================
        
        window.addEventListener('DOMContentLoaded', function() {
            cargarGraficoDesdeGithub();
        });
        
        // OPCIONAL: Recargar el gr√°fico cada 5 minutos (si actualizas el JSON)
        // setInterval(cargarGraficoDesdeGithub, 5 * 60 * 1000);
        
    </script>
</body>
</html>
